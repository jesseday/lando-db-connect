---
id: 2mrae
title: Dev Environment Setup
file_version: 1.1.1
app_version: 1.0.19
---

# Lando DB Connect

[Lando](https://lando.dev/) often changes database port connections as services are restarted or rebuilt. This makes connecting with a database tool like TablePlus a pain since the connection port needs to be changed every time the application is restarted.

If you prefer to use the mysql shell, this plugin is not for you as Lando comes with a connection command out of the box.

This plugin uses the connection information from lando to open the connection in the tool of your choice. It essentially runs `open mysql://user:password@127.0.0.1:port/database`. Currently, the plugin supports mysql and postgres.

# Usage

**Clone this plugin into your** `~/.lando/plugins` directory.

*   `cd ~/.lando/plugins`
    
*   `git clone git@github.com:jesseday/lando-db-connect.git db-connect`
    

**Run in your lando applications**

*   In a lando application
    
*   `lando db-connect`
    
*   `lando db-connect -s [service_name]`
    
    *   Where `[service_name]` is the service with a databaseconnection to open.
        
    *   The default service\_name is `database`.
        

<br/>

<br/>

db-connect only supports the databases listed in the task file below.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ tasks/db-connect.js
```javascript
45               let type = false;
46               if (_.includes(["mariadb", "mysql"], service.type)) {
47                 type = "mysql";
48               } else if (service.type === "postgres") {
49                 type = "postgres";
50               } else if (service.type === "platformsh-mariadb") {
51                 type = "mysql";
52                 let { user, path } = service.creds[0];
53                 database = path;
54                 password = "";
55               }
56               if (!type) {
57                 throw new Error(
58                   `Database type not yet supported by this plugin.  Could not open a connection.`
59                 );
60               }
```

<br/>

# Notes

YMMV - This has been built with a limited use case in mind, eg my own. I'm open to pull requests.

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBbGFuZG8tZGItY29ubmVjdCUzQSUzQWplc3NlZGF5/docs/2mrae).
